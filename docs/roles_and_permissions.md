# 2. 使用角色与权限（RBAC）

采用 RBAC（Role-based Access Control）。

### 2.1 角色定义

- **SUPER_ADMIN（总部管理员）**
  - 全局与所有门店数据可见
  - 可管理用户/角色、全局推荐、任意门店推荐、公海与共享规则
  - 商品与库存的全权管理
- **OPS_GLOBAL（总部运营）**
  - 可配置全局今日推荐、查看各门店配置与预览
  - 商品管理（编辑/发布/导入）
  - 库存查询与总仓调拨
  - 不可管理用户
- **STORE_MANAGER（门店店长）**
  - 仅本门店（tenant）范围可见
  - 可配置本门店今日推荐（完全覆盖）
  - 可管理本门店客户（公海/领取/共享）
  - 门店库存查询、发起调拨请求、门店入库
- **STORE_STAFF（门店员工/销售）**
  - 管理端只读或无访问；一般不给管理端权限（或仅限查看本门店数据）

### 2.2 权限矩阵

| 功能 | SUPER_ADMIN | OPS_GLOBAL | STORE_MANAGER |
|---|---|---|---|
| 今日推荐-全局配置 | 读写 | 读写 | 只读 |
| 今日推荐-门店配置 | 读写 | 只读/可选写 | 读写（仅本门店） |
| 今日推荐预览（按门店） | 允许 | 允许 | 允许（本门店） |
| **商品管理-编辑/发布** | 允许 | 允许 | 只读 |
| **商品管理-批量导入** | 允许 | 允许 | 否 |
| **库存查询-全局** | 允许 | 允许 | 否（仅本门店） |
| **库存操作-调拨** | 允许 | 允许 | 允许（申请） |
| **库存操作-调整(盘点)** | 允许 | 允许 | 允许（本门店） |
| 客户公海池管理 | 允许 | 只读/可选 | 允许（本门店） |
| 客户共享成员管理 | 允许 | 只读/可选 | 允许（本门店） |
| 用户/角色管理 | 允许 | 否 | 否 |
| 审计日志查看 | 允许 | 允许（只读） | 允许（本门店相关） |