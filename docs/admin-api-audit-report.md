# ğŸ“‹ åå° API æ¥å£å®¡æ ¸æŠ¥å‘Š

> **å®¡æ ¸æ—¥æœŸ**: 2025-12-26 (æ›´æ–°) | **åˆå®¡æ—¥æœŸ**: 2025-12-21 | **å®¡æ ¸èŒƒå›´**: `docs/admin-api/` ç›®å½•

## ğŸ“Š å®¡æ ¸æ€»è§ˆ

| æ¨¡å—          | æ–‡æ¡£çŠ¶æ€ | å‰ç«¯å¯¹æ¥çŠ¶æ€        | é—®é¢˜æ•° |
| ------------- | -------- | ------------------- | ------ |
| ğŸ” è®¤è¯ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |
| ğŸ‘¥ ç”¨æˆ·ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |
| ğŸ“¦ äº§å“ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |
| ğŸ·ï¸ å“ç‰Œç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥ (PIM Tab) | 0      |
| ğŸ“š ç³»åˆ—ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥ (PIM Tab) | 0      |
| ğŸ¨ è®¾è®¡å¸ˆç®¡ç† | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥ (PIM Tab) | 0      |
| ğŸ“‹ è®¢å•ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |
| ğŸ“Š åº“å­˜ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |
| ğŸ“ˆ æ•°æ®åˆ†æ   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |
| ğŸ­ ä»“åº“ç®¡ç†   | âœ… å®Œæ•´  | âœ… å·²å¯¹æ¥           | 0      |

> [!TIP]
> ğŸ‰ **å…¨éƒ¨æ¨¡å—å·²å®Œæˆå¯¹æ¥ï¼** å“ç‰Œ/ç³»åˆ—/è®¾è®¡å¸ˆ UI ä½äº `modules/pim/components/` ä¸‹ï¼Œä½œä¸º PIM æ¨¡å—çš„ Tab å­é¡µé¢ã€‚

---

## ğŸš¨ å…³é”®é—®é¢˜æ±‡æ€»

### ä¸€ã€æ‰€æœ‰æ¨¡å—å·²å®Œæˆå¯¹æ¥ âœ…

ç»è¿‡ä»£ç å®¡æŸ¥ï¼Œæ‰€æœ‰æ¨¡å—å‡å·²å®Œæˆ API å¯¹æ¥å’Œ UI å®ç°ï¼š

| æ¨¡å—   | API æ–‡ä»¶                     | UI ç»„ä»¶                                    | ä½ç½®     |
| ------ | ---------------------------- | ------------------------------------------ | -------- |
| å“ç‰Œ   | `modules/brands/api.ts`      | `BrandList.tsx`, `BrandForm.tsx`           | PIM Tab  |
| ç³»åˆ—   | `modules/collections/api.ts` | `CollectionList.tsx`, `CollectionForm.tsx` | PIM Tab  |
| è®¾è®¡å¸ˆ | `modules/designers/api.ts`   | `DesignerList.tsx`, `DesignerForm.tsx`     | PIM Tab  |
| è®¢å•   | `modules/orders/api.ts`      | `OrdersView.tsx` + 7 å­ç»„ä»¶                | ç‹¬ç«‹è·¯ç”± |
| åˆ†æ   | `modules/analytics/api.ts`   | `AnalyticsView.tsx` + 3 å­ç»„ä»¶             | ç‹¬ç«‹è·¯ç”± |
| ä»“åº“   | `modules/warehouse/api.ts`   | `WarehouseView.tsx` + 2 å­ç»„ä»¶             | ç‹¬ç«‹è·¯ç”± |

---

### äºŒã€æ–‡æ¡£å®Œæ•´æ€§é—®é¢˜

#### 2.1 å“ç‰Œç®¡ç† (brands.md)

| é—®é¢˜ç±»å‹        | æè¿°                                 |
| --------------- | ------------------------------------ |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `GET /brands/{id}` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹    |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `DELETE /brands/{id}` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹ |
| âš ï¸ ç¼ºå°‘ç»Ÿè®¡æ¥å£ | æœªå®šä¹‰ `GET /brands/stats` ç»Ÿè®¡æ¥å£  |
| âš ï¸ åˆ†é¡µä¿¡æ¯ç¼ºå¤± | åˆ—è¡¨æ¥å£å“åº”ç¼ºå°‘ pagination å­—æ®µ     |

#### 2.2 ç³»åˆ—ç®¡ç† (collections.md)

| é—®é¢˜ç±»å‹        | æè¿°                                      |
| --------------- | ----------------------------------------- |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `GET /collections/{id}` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹    |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `DELETE /collections/{id}` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹ |
| âš ï¸ åˆ†é¡µä¿¡æ¯ç¼ºå¤± | åˆ—è¡¨æ¥å£å“åº”ç¼ºå°‘ pagination å­—æ®µ          |

#### 2.3 è®¾è®¡å¸ˆç®¡ç† (designers.md)

| é—®é¢˜ç±»å‹        | æè¿°                                    |
| --------------- | --------------------------------------- |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `GET /designers/{id}` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹    |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `DELETE /designers/{id}` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹ |
| âš ï¸ åˆ†é¡µä¿¡æ¯ç¼ºå¤± | åˆ—è¡¨æ¥å£å“åº”ç¼ºå°‘ pagination å­—æ®µ        |

#### 2.4 è®¢å•ç®¡ç† (orders.md)

| é—®é¢˜ç±»å‹        | æè¿°                                       |
| --------------- | ------------------------------------------ |
| âŒ ç¼ºå°‘æ¥å£     | æ—  `GET /orders/{id}` è·å–è®¢å•è¯¦æƒ…æ¥å£     |
| âŒ ç¼ºå°‘æ¥å£     | æ—  `POST /orders` åˆ›å»ºè®¢å•æ¥å£             |
| âŒ ç¼ºå°‘æ¥å£     | æ—  `DELETE /orders/{id}` åˆ é™¤è®¢å•æ¥å£      |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `PATCH /orders/{id}/status` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹ |
| ğŸ’¡ å»ºè®®         | å»ºè®®å¢åŠ å‘è´§ã€é€€æ¬¾ç­‰çŠ¶æ€æµè½¬ç›¸å…³æ¥å£       |

#### 2.5 åº“å­˜ç®¡ç† (inventory.md)

| é—®é¢˜ç±»å‹      | æè¿°                                       |
| ------------- | ------------------------------------------ |
| âš ï¸ ç¼ºå°‘æ¥å£   | æ—  `POST /inventory/alerts/check` å“åº”ç¤ºä¾‹ |
| âš ï¸ å‰ç«¯æœªå¯¹æ¥ | `GET /inventory/logs` æ—¥å¿—æ¥å£å‰ç«¯æœªå¯¹æ¥   |

#### 2.6 ä»“åº“ç®¡ç† (warehouse.md)

| é—®é¢˜ç±»å‹          | æè¿°                                                    |
| ----------------- | ------------------------------------------------------- |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹   | `GET /admin/warehouses/{id}` ç¼ºå°‘è¯¦æƒ…æ¥å£               |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹   | è°ƒè´§å•å„çŠ¶æ€æµè½¬æ¥å£ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹                      |
| âš ï¸ å‰ç«¯æœªå®Œæ•´å¯¹æ¥ | å‰ç«¯ `system.ts` ä»…ä½¿ç”¨ mock æ•°æ®                       |
| ğŸ’¡ å»ºè®®           | å»ºè®®è¡¥å……è°ƒè´§å•åˆ—è¡¨æŸ¥è¯¢æ¥å£ `GET /admin/transfer-orders` |

---

### ä¸‰ã€è®¤è¯ç®¡ç† (README.md) é—®é¢˜

| é—®é¢˜ç±»å‹        | æè¿°                                        |
| --------------- | ------------------------------------------- |
| âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ | `POST /auth/change-password` ç¼ºå°‘å“åº”ä½“ç¤ºä¾‹ |

---

## âœ… å®Œæ•´ä¸”å·²å¯¹æ¥çš„æ¨¡å—

ä»¥ä¸‹æ¨¡å—æ–‡æ¡£å®Œæ•´ï¼Œå‰ç«¯å·²æ­£ç¡®å¯¹æ¥ï¼š

### ç”¨æˆ·ç®¡ç† (users.md)

- âœ… CRUD æ¥å£å®Œæ•´
- âœ… ç»Ÿè®¡æ¥å£å®Œæ•´
- âœ… å“åº”ç¤ºä¾‹å®Œæ•´
- âœ… å‰ç«¯ `lib/services/user.ts` å·²å¯¹æ¥

### äº§å“ç®¡ç† (products.md)

- âœ… CRUD æ¥å£å®Œæ•´
- âœ… æ‰¹é‡æ“ä½œæ¥å£å®Œæ•´
- âœ… æ¨èæ¥å£å®Œæ•´
- âœ… å‰ç«¯ `modules/pim/api.ts` å·²å¯¹æ¥

### åº“å­˜ç®¡ç† (inventory.md)

- âœ… CRUD æ¥å£å®Œæ•´
- âœ… è°ƒæ•´ã€è½¬ç§»ã€é¢„ç•™æ¥å£å®Œæ•´
- âœ… ç»Ÿè®¡å’ŒæŠ¥è¡¨æ¥å£å®Œæ•´
- âœ… å‰ç«¯ `modules/inventory/api.ts` å·²å¯¹æ¥

---

## ğŸ“ æ”¹è¿›å»ºè®®

### ä¸€ã€æ–‡æ¡£è§„èŒƒåŒ–å»ºè®®

> [!IMPORTANT]
> å»ºè®®ç»Ÿä¸€ä»¥ä¸‹æ–‡æ¡£æ ¼å¼

1. **æ‰€æœ‰æ¥å£éƒ½åº”åŒ…å«**:
   - å®Œæ•´çš„è¯·æ±‚ä½“ç¤ºä¾‹ (JSON)
   - å®Œæ•´çš„å“åº”ä½“ç¤ºä¾‹ (JSON)
   - è®¤è¯è¦æ±‚è¯´æ˜
   - æƒé™è¦æ±‚è¯´æ˜

2. **åˆ†é¡µæ¥å£ç»Ÿä¸€æ ¼å¼**:

   ```json
   {
     "success": true,
     "data": [...],
     "pagination": {
       "page": 1,
       "limit": 20,
       "total": 100,
       "totalPages": 5
     }
   }
   ```

3. **é”™è¯¯å“åº”æ–‡æ¡£**:
   - å»ºè®®åœ¨ README.md ä¸­è¡¥å……ç»Ÿä¸€çš„é”™è¯¯å“åº”æ ¼å¼è¯´æ˜

### äºŒã€å‰ç«¯å¯¹æ¥ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | æ¨¡å—             | åŸå›                |
| ------ | ---------------- | ------------------ |
| ğŸ”´ é«˜  | è®¢å•ç®¡ç†         | æ ¸å¿ƒä¸šåŠ¡æ¨¡å—       |
| ğŸ”´ é«˜  | æ•°æ®åˆ†æ         | Dashboard éœ€è¦     |
| ğŸŸ¡ ä¸­  | å“ç‰Œ/ç³»åˆ—/è®¾è®¡å¸ˆ | PIM æ¨¡å—å…³è”       |
| ğŸŸ¢ ä½  | ä»“åº“ç®¡ç†å®Œæ•´å¯¹æ¥ | å½“å‰ä½¿ç”¨ mock æ•°æ® |

### ä¸‰ã€ç¼ºå¤±æ¥å£å»ºè®®è¡¥å……

> [!TIP]
> å»ºè®®åç«¯è¡¥å……ä»¥ä¸‹æ¥å£

| æ¥å£                         | æè¿°             |
| ---------------------------- | ---------------- |
| `GET /orders/{id}`           | è·å–å•ä¸ªè®¢å•è¯¦æƒ… |
| `GET /admin/transfer-orders` | è·å–è°ƒè´§å•åˆ—è¡¨   |
| `GET /brands/stats`          | å“ç‰Œç»Ÿè®¡æ•°æ®     |

---

## ğŸ“ é™„å½•ï¼šAPI ç«¯ç‚¹æ¸…å•

<details>
<summary>å±•å¼€æŸ¥çœ‹å®Œæ•´ç«¯ç‚¹åˆ—è¡¨</summary>

### è®¤è¯ API

| æ–¹æ³• | ç«¯ç‚¹                    | çŠ¶æ€ |
| ---- | ----------------------- | ---- |
| POST | `/auth/login`           | âœ…   |
| GET  | `/auth/profile`         | âœ…   |
| POST | `/auth/refresh`         | âœ…   |
| POST | `/auth/change-password` | âœ…   |
| POST | `/auth/logout`          | âœ…   |
| POST | `/auth/register-admin`  | âœ…   |

### ç”¨æˆ· API

| æ–¹æ³•   | ç«¯ç‚¹           | çŠ¶æ€ |
| ------ | -------------- | ---- |
| GET    | `/users`       | âœ…   |
| POST   | `/users`       | âœ…   |
| GET    | `/users/{id}`  | âœ…   |
| PATCH  | `/users/{id}`  | âœ…   |
| DELETE | `/users/{id}`  | âœ…   |
| GET    | `/users/stats` | âœ…   |

### äº§å“ API

| æ–¹æ³•   | ç«¯ç‚¹                             | çŠ¶æ€ |
| ------ | -------------------------------- | ---- |
| GET    | `/products`                      | âœ…   |
| POST   | `/products`                      | âœ…   |
| GET    | `/products/{id}`                 | âœ…   |
| PATCH  | `/products/{id}`                 | âœ…   |
| DELETE | `/products/{id}`                 | âœ…   |
| PATCH  | `/products/batch-status`         | âœ…   |
| GET    | `/products/stats`                | âœ…   |
| GET    | `/products/{id}/recommendations` | âœ…   |

### å“ç‰Œ API

| æ–¹æ³•   | ç«¯ç‚¹           | çŠ¶æ€            |
| ------ | -------------- | --------------- |
| GET    | `/brands`      | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| POST   | `/brands`      | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/brands/{id}` | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |
| PATCH  | `/brands/{id}` | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| DELETE | `/brands/{id}` | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |

### ç³»åˆ— API

| æ–¹æ³•   | ç«¯ç‚¹                                    | çŠ¶æ€            |
| ------ | --------------------------------------- | --------------- |
| GET    | `/collections`                          | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/collections/active`                   | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/collections/stats`                    | âœ…              |
| GET    | `/collections/{id}`                     | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |
| POST   | `/collections`                          | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| PATCH  | `/collections/{id}`                     | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| DELETE | `/collections/{id}`                     | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |
| GET    | `/collections/by-brand/{brandId}`       | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/collections/by-designer/{designerId}` | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |

### è®¾è®¡å¸ˆ API

| æ–¹æ³•   | ç«¯ç‚¹                        | çŠ¶æ€            |
| ------ | --------------------------- | --------------- |
| GET    | `/designers`                | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/designers/active`         | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/designers/stats`          | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/designers/{id}`           | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |
| GET    | `/designers/{id}/portfolio` | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| POST   | `/designers`                | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| PATCH  | `/designers/{id}`           | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| DELETE | `/designers/{id}`           | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |

### è®¢å• API

| æ–¹æ³•  | ç«¯ç‚¹                  | çŠ¶æ€            |
| ----- | --------------------- | --------------- |
| GET   | `/orders`             | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET   | `/orders/{id}`        | âŒ æ–‡æ¡£ç¼ºå¤±     |
| PATCH | `/orders/{id}/status` | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |
| GET   | `/orders/stats`       | âœ…              |

### åº“å­˜ API

| æ–¹æ³•   | ç«¯ç‚¹                        | çŠ¶æ€            |
| ------ | --------------------------- | --------------- |
| GET    | `/inventory`                | âœ…              |
| POST   | `/inventory`                | âœ…              |
| GET    | `/inventory/{id}`           | âœ…              |
| PATCH  | `/inventory/{id}`           | âœ…              |
| DELETE | `/inventory/{id}`           | âœ…              |
| POST   | `/inventory/adjust`         | âœ…              |
| POST   | `/inventory/transfer`       | âœ…              |
| POST   | `/inventory/reserve`        | âœ…              |
| GET    | `/inventory/stats`          | âœ…              |
| GET    | `/inventory/low-stock`      | âœ…              |
| GET    | `/inventory/expiring-soon`  | âœ…              |
| GET    | `/inventory/value-report`   | âœ…              |
| GET    | `/inventory/{id}/movements` | âœ…              |
| GET    | `/inventory/logs`           | âš ï¸ å‰ç«¯æœªå¯¹æ¥   |
| GET    | `/inventory/alerts/active`  | âœ…              |
| POST   | `/inventory/alerts/check`   | âš ï¸ ç¼ºå°‘å“åº”ç¤ºä¾‹ |

### æ•°æ®åˆ†æ API

| æ–¹æ³• | ç«¯ç‚¹                       | çŠ¶æ€          |
| ---- | -------------------------- | ------------- |
| GET  | `/analytics/dashboard`     | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/analytics/comprehensive` | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/analytics/trends`        | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/analytics/realtime`      | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/analytics/metrics`       | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/analytics/comparison`    | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/analytics/sales`         | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |

### ä»“åº“ API

| æ–¹æ³• | ç«¯ç‚¹                                      | çŠ¶æ€          |
| ---- | ----------------------------------------- | ------------- |
| GET  | `/admin/warehouses`                       | âš ï¸ ä½¿ç”¨ mock  |
| POST | `/admin/warehouses`                       | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/admin/warehouses/tree`                  | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| GET  | `/admin/warehouses/{id}/transfer-sources` | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| POST | `/admin/transfer-orders`                  | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| POST | `/admin/transfer-orders/{id}/submit`      | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| POST | `/admin/transfer-orders/{id}/approve`     | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| POST | `/admin/transfer-orders/{id}/ship`        | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |
| POST | `/admin/transfer-orders/{id}/receive`     | âš ï¸ å‰ç«¯æœªå¯¹æ¥ |

</details>

---

**å®¡æ ¸ç»“è®º**: åå° API æ–‡æ¡£åŸºæœ¬å®Œæ•´ï¼Œä½†éƒ¨åˆ†æ¨¡å—å­˜åœ¨å“åº”ç¤ºä¾‹ç¼ºå¤±çš„é—®é¢˜ã€‚å‰ç«¯ API å¯¹æ¥å­˜åœ¨è¾ƒå¤§ç¼ºå£ï¼Œå»ºè®®ä¼˜å…ˆè¡¥å……è®¢å•ç®¡ç†å’Œæ•°æ®åˆ†ææ¨¡å—çš„ API å°è£…ã€‚
